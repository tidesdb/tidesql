#
# TidesDB Large Data Tests
#
# Tests for handling larger datasets and BLOB/TEXT types
#
DROP TABLE IF EXISTS tidesdb_check;
# Test 1: TEXT column
CREATE TABLE t1 (
id INT PRIMARY KEY,
content TEXT
) ENGINE=TidesDB;
INSERT INTO t1 VALUES (1, REPEAT('Hello World ', 100));
INSERT INTO t1 VALUES (2, REPEAT('Test data ', 500));
INSERT INTO t1 VALUES (3, NULL);
SELECT id, LENGTH(content) FROM t1 ORDER BY id;
id	LENGTH(content)
1	1200
2	5000
3	NULL
# Test 2: BLOB column
DROP TABLE t1;
CREATE TABLE t1 (
id INT PRIMARY KEY,
data BLOB
) ENGINE=TidesDB;
INSERT INTO t1 VALUES (1, REPEAT('A', 1000));
INSERT INTO t1 VALUES (2, REPEAT('B', 5000));
INSERT INTO t1 VALUES (3, NULL);
SELECT id, LENGTH(data) FROM t1 ORDER BY id;
id	LENGTH(data)
1	1000
2	5000
3	NULL
# Test 3: Multiple BLOB/TEXT columns
DROP TABLE t1;
CREATE TABLE t1 (
id INT PRIMARY KEY,
text1 TEXT,
blob1 BLOB,
text2 MEDIUMTEXT
) ENGINE=TidesDB;
INSERT INTO t1 VALUES (1, REPEAT('T', 100), REPEAT('B', 200), REPEAT('M', 300));
SELECT id, LENGTH(text1), LENGTH(blob1), LENGTH(text2) FROM t1;
id	LENGTH(text1)	LENGTH(blob1)	LENGTH(text2)
1	100	200	300
# Test 4: UPDATE BLOB/TEXT
UPDATE t1 SET text1 = REPEAT('X', 500) WHERE id = 1;
SELECT id, LENGTH(text1), LENGTH(blob1), LENGTH(text2) FROM t1;
id	LENGTH(text1)	LENGTH(blob1)	LENGTH(text2)
1	500	200	300
# Test 5: Batch insert
DROP TABLE t1;
CREATE TABLE t1 (
id INT PRIMARY KEY,
name VARCHAR(100),
value INT
) ENGINE=TidesDB;
SELECT COUNT(*) FROM t1;
COUNT(*)
100
SELECT MIN(id), MAX(id), MIN(value), MAX(value) FROM t1;
MIN(id)	MAX(id)	MIN(value)	MAX(value)
1	100	10	1000
# Test 6: Range queries on larger dataset
SELECT COUNT(*) FROM t1 WHERE id BETWEEN 25 AND 75;
COUNT(*)
1
SELECT COUNT(*) FROM t1 WHERE value >= 500;
COUNT(*)
51
# Test 7: DELETE range
DELETE FROM t1 WHERE id BETWEEN 40 AND 60;
SELECT COUNT(*) FROM t1;
COUNT(*)
100
# Cleanup
DROP TABLE t1;
#
# Large data tests completed!
#
