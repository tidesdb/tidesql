#
# TidesDB Data Types Tests
#
DROP TABLE IF EXISTS tidesdb_check;
# Test 1: Integer types
CREATE TABLE t_int (
id INT PRIMARY KEY,
tiny_col TINYINT,
small_col SMALLINT,
medium_col MEDIUMINT,
int_col INT,
big_col BIGINT
) ENGINE=TidesDB;
INSERT INTO t_int VALUES (1, 127, 32767, 8388607, 2147483647, 9223372036854775807);
INSERT INTO t_int VALUES (2, -128, -32768, -8388608, -2147483648, -9223372036854775808);
INSERT INTO t_int VALUES (3, 0, 0, 0, 0, 0);
SELECT * FROM t_int ORDER BY id;
id	tiny_col	small_col	medium_col	int_col	big_col
1	127	32767	8388607	2147483647	9223372036854775807
2	-128	-32768	-8388608	-2147483648	-9223372036854775808
3	0	0	0	0	0
# Test 2: Unsigned integers
CREATE TABLE t_uint (
id INT PRIMARY KEY,
tiny_col TINYINT UNSIGNED,
small_col SMALLINT UNSIGNED,
int_col INT UNSIGNED,
big_col BIGINT UNSIGNED
) ENGINE=TidesDB;
INSERT INTO t_uint VALUES (1, 255, 65535, 4294967295, 18446744073709551615);
INSERT INTO t_uint VALUES (2, 0, 0, 0, 0);
SELECT * FROM t_uint ORDER BY id;
id	tiny_col	small_col	int_col	big_col
1	255	65535	4294967295	18446744073709551615
2	0	0	0	0
# Test 3: Floating point types
CREATE TABLE t_float (
id INT PRIMARY KEY,
float_col FLOAT,
double_col DOUBLE,
decimal_col DECIMAL(10,2)
) ENGINE=TidesDB;
INSERT INTO t_float VALUES (1, 3.14159, 3.141592653589793, 12345.67);
INSERT INTO t_float VALUES (2, -1.5, -2.718281828, -99999.99);
INSERT INTO t_float VALUES (3, 0.0, 0.0, 0.00);
SELECT * FROM t_float ORDER BY id;
id	float_col	double_col	decimal_col
1	3.14159	3.141592653589793	12345.67
2	-1.5	-2.718281828	-99999.99
3	0	0	0.00
# Test 4: String types
CREATE TABLE t_string (
id INT PRIMARY KEY,
char_col CHAR(10),
varchar_col VARCHAR(255),
text_col TEXT,
mediumtext_col MEDIUMTEXT,
longtext_col LONGTEXT
) ENGINE=TidesDB;
INSERT INTO t_string VALUES (1, 'CHAR', 'VARCHAR', 'TEXT content', 'MEDIUMTEXT content', 'LONGTEXT content');
INSERT INTO t_string VALUES (2, '', '', '', '', '');
INSERT INTO t_string VALUES (3, 'pad', 'no pad', REPEAT('x', 1000), REPEAT('y', 10000), REPEAT('z', 100000));
SELECT id, char_col, varchar_col, LENGTH(text_col), LENGTH(mediumtext_col), LENGTH(longtext_col) FROM t_string ORDER BY id;
id	char_col	varchar_col	LENGTH(text_col)	LENGTH(mediumtext_col)	LENGTH(longtext_col)
1	CHAR	VARCHAR	12	18	16
2			0	0	0
3	pad	no pad	1000	10000	100000
# Test 5: Binary types
CREATE TABLE t_binary (
id INT PRIMARY KEY,
binary_col BINARY(10),
varbinary_col VARBINARY(255),
blob_col BLOB,
mediumblob_col MEDIUMBLOB,
longblob_col LONGBLOB
) ENGINE=TidesDB;
INSERT INTO t_binary VALUES (1, 'BINARY', 'VARBINARY', 'BLOB data', 'MEDIUMBLOB data', 'LONGBLOB data');
INSERT INTO t_binary VALUES (2, 0x00FF00FF, 0xDEADBEEF, 0x0102030405, 0x0A0B0C0D0E0F, 0xCAFEBABE);
SELECT id, HEX(binary_col), HEX(varbinary_col), HEX(blob_col) FROM t_binary ORDER BY id;
id	HEX(binary_col)	HEX(varbinary_col)	HEX(blob_col)
1	42494E41525900000000	56415242494E415259	424C4F422064617461
2	00FF00FF000000000000	DEADBEEF	0102030405
# Test 6: Date and time types
CREATE TABLE t_datetime (
id INT PRIMARY KEY,
date_col DATE,
time_col TIME,
datetime_col DATETIME,
timestamp_col TIMESTAMP,
year_col YEAR
) ENGINE=TidesDB;
INSERT INTO t_datetime VALUES (1, '2024-01-15', '10:30:45', '2024-01-15 10:30:45', '2024-01-15 10:30:45', 2024);
INSERT INTO t_datetime VALUES (2, '1970-01-01', '00:00:00', '1970-01-01 00:00:00', '1970-01-01 00:00:01', 1970);
INSERT INTO t_datetime VALUES (3, '2099-12-31', '23:59:59', '2099-12-31 23:59:59', '2038-01-19 03:14:07', 2099);
SELECT * FROM t_datetime ORDER BY id;
id	date_col	time_col	datetime_col	timestamp_col	year_col
1	2024-01-15	10:30:45	2024-01-15 10:30:45	2024-01-15 10:30:45	2024
2	1970-01-01	00:00:00	1970-01-01 00:00:00	1970-01-01 00:00:01	1970
3	2099-12-31	23:59:59	2099-12-31 23:59:59	2038-01-19 03:14:07	2099
# Test 7: ENUM and SET types
CREATE TABLE t_enum_set (
id INT PRIMARY KEY,
enum_col ENUM('small', 'medium', 'large'),
set_col SET('red', 'green', 'blue')
) ENGINE=TidesDB;
INSERT INTO t_enum_set VALUES (1, 'small', 'red');
INSERT INTO t_enum_set VALUES (2, 'medium', 'red,green');
INSERT INTO t_enum_set VALUES (3, 'large', 'red,green,blue');
SELECT * FROM t_enum_set ORDER BY id;
id	enum_col	set_col
1	small	red
2	medium	red,green
3	large	red,green,blue
# Test 8: NULL values
CREATE TABLE t_null (
id INT PRIMARY KEY,
nullable_int INT,
nullable_varchar VARCHAR(100),
nullable_date DATE
) ENGINE=TidesDB;
INSERT INTO t_null VALUES (1, NULL, NULL, NULL);
INSERT INTO t_null VALUES (2, 100, 'not null', '2024-01-15');
INSERT INTO t_null VALUES (3, NULL, 'partial', NULL);
SELECT * FROM t_null ORDER BY id;
id	nullable_int	nullable_varchar	nullable_date
1	NULL	NULL	NULL
2	100	not null	2024-01-15
3	NULL	partial	NULL
SELECT * FROM t_null WHERE nullable_int IS NULL ORDER BY id;
id	nullable_int	nullable_varchar	nullable_date
1	NULL	NULL	NULL
3	NULL	partial	NULL
# Cleanup
DROP TABLE t_int, t_uint, t_float, t_string, t_binary, t_datetime, t_enum_set, t_null;
#
# Data types tests completed!
#
